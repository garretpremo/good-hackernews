<ng-container *ngIf="story.url else localStory">
  <a class="story-link" [href]="story.url">
    <ng-container *ngTemplateOutlet="storyListStory"></ng-container>
  </a>
</ng-container>
<ng-template #localStory>
  <a class="story-link" [routerLink]="['/story', story.id ]">
    <ng-container *ngTemplateOutlet="storyListStory"></ng-container>
  </a>
</ng-template>

<ng-template #storyListStory>
  <mat-card [class.mat-elevation-z2]="!hovering" [class.mat-elevation-z7]="hovering">
    <h3 class="number">{{ index + 1 }}</h3>
    <section class="story-info">
      <header>
        <h3 class="title">{{ story?.title }} <span>{{ story?.url | url }}</span></h3>
      </header>
      <main>
        <span class="score">{{ story?.score }} points by</span>
        <a [routerLink]="['/user', story?.by ]" class="user">{{ story?.by }}</a>
        <span class="time-since" [matTooltip]="story?.time | date: 'medium'">{{ story?.time | timeSince }}</span>
      </main>
    </section>
    <section class="comments">
      <button type="button" mat-mini-fab (click)="goToComments($event)" matTooltip="View Comments">
        <mat-icon>comments</mat-icon>
      </button>
    </section>
  </mat-card>
</ng-template>
